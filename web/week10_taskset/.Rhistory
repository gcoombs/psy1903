# Generate dataset reproducibly
set.seed(1903)
subject_id <- 1:40
rt <- round(rnorm(40, mean = 520, sd = 120))
rt[sample(1:40, 2)] <- NA
congruent <- sample(c(TRUE, FALSE), 40, replace = TRUE)
condition <- sample(c("control", "incongruent"), 40, replace = TRUE)
experiment_data <- data.frame(subject_id, rt, congruent, condition)
# Save for reuse in later tasks
saveRDS(experiment_data, file = "data/raw/experiment_data.rds")
rm(list = ls())
experiment_data <- readRDS("../data/raw/experiment_data.rds")
experiment_data <- readRDS("data/raw/experiment_data.rds")
# Load the saved dataset
experiment_data <- readRDS("../data/raw/experiment_data.rds")
# Take a quick look at the first few rows
head(experiment_data)
# Check the structure of the dataset
str(experiment_data)
# Load the saved dataset
experiment_data <- readRDS("../data/raw/experiment_data.rds")
# Take a quick look at the first few rows
head(experiment_data)
# Check the structure of the dataset
str(experiment_data)
threshold <- 500  # global variable
flag_fast <- function(rt_vector) {
rt_vector < threshold  # BUG: uses global variable
}
flag_fast(experiment_data$rt)
rm(threshold)
flag_fast(experiment_data$rt)
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
traceback()
with(experiment_data, table(condition, is.na(rt)))
experiment_data$rt[experiment_data$rt > 500]
experiment_data$rt[experiment_data$rt < 500]
experiment_data$rt[3]
experiment_data[3]$rt
experiment_data[3,]$rt
experiment_data$rt[rt > 500]
experiment_data["rt">500,"rt", drop=FALSE]
condition <- factor(c("control", "control", "incongruent", "control", "incongruent", "control", "incongruent", "incongruent", "control", "incongruent"))
mean(experiment_data[experiment_data$congruent=TRUE, "rt", na.rm=TRUE]
mean(experiment_data[experiment_data$congruent==TRUE, "rt", na.rm=TRUE]
]
mean(experiment_data[experiment_data$congruent==TRUE, "rt"], na.rm=TRUE)
mean(experiment_data[experiment_data$congruent=TRUE, "rt"], na.rm=TRUE)
experiment_data$fast <- (experiment_data$rt < 500)
View(experiment_data)
new_subject <- c(subject_id = 11,congruent = TRUE,condition = "control",rt = 470, +                  rt_z = NA, fast = TRUE)
new_subject <- c(subject_id = 11,congruent = TRUE,condition = "control",rt = 470, rt_z = NA, fast = TRUE)
rbind(experiment_data, new_subject)
